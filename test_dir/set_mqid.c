/********************************************************************/
/*                                                                  */
/* set_mqid.c  Set the Message Queue Identifier           R00-00.00 */
/*                                                                  */
/* ================================================================ */
/*                                                                  */
/* Programing Notes:                                                */
/*                                                                  */
/* This routine is a replacement for the Set_MQID of gb1_init.f.    */
/*                                                                  */
/* ================================================================ */
/*                                                                  */
/* Revision History:                                                */
/*                                                                  */
/* Revision   Date         Whom      Why                            */
/* =========  ===========  ========  ============================== */
/* R00-00.00  06/Apr/1999  DRLJr     Replaced Set_MQID of gb1_init  */
/* R01-00.00 jeffsun       21/Feb/2001  Replace realtime1 with REALTIME1 for sparc  */
// tt60135    03/02/11     GJ        Replace obsolete realtime1.h 
//                                   with gb1_init.h
/*                                                                  */
/********************************************************************/

#include <stdlib.h>
#include <string.h>

#include <private_data.h>
#include <gb1_init.h>   // tt650135

/*==================================================================*/
/* Set_MQID() ("C" Interface)                                       */
/*==================================================================*/

void Set_MQID(int      mqid)
{
  int              cmy_slot;             /* "C" version of myslot   */

  /*----------------------------------------------------------------*/
  /* Convert my_slot from 1 based (FORTRAN) to 0 based ("C") value. */
  /*----------------------------------------------------------------*/

  cmy_slot  = private_data.my_slot - 1L; 

  /*----------------------------------------------------------------*/
  /* Store the message queue id into the realtime control table.    */
  /*----------------------------------------------------------------*/

  REALTIME1.shared_mqid[cmy_slot] = mqid;

  /*----------------------------------------------------------------*/
  /* Return to the caller                                           */
  /*----------------------------------------------------------------*/

  return;      
}             

/*==================================================================*/
/* Set_MQID (FORTRAN Interface)                                     */
/*==================================================================*/

void set_mqid_(int      * mqid)
{
  Set_MQID((*mqid));
  return;      
}             

/********************************************************************/
/*                                                                  */
/********************************************************************/
